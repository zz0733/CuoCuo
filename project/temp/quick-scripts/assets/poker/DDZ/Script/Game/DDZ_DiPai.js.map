{"version":3,"sources":["DDZ_DiPai.js"],"names":["cc","Class","extends","Component","properties","pokerPre","Prefab","onLoad","clearDiPai","node","removeAllChildren","parent","getChildByName","active","initDiPai","list","isReconnect","_childScale","_childScale_old","_diPaiArr","_diPaiPosArr","p","_diPaiPosArr_old","lists","YL","DDZTools","SortPoker","reverse","i","length","pokerObj","cardtypeArrTrans","TransPokertypeArr","newNode","instantiate","setScale","setPosition","getComponent","initPoker","addChild","children","setTimeout","stopAllActions","midFunc","callFunc","bind","runAction","sequence","scaleTo","spawn","moveTo"],"mappings":"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","file":"DDZ_DiPai.js","sourceRoot":"../../../../../../../assets/poker/DDZ/Script/Game","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/class/index.html\n// Learn Attribute:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/reference/attributes/index.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/life-cycle-callbacks/index.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        pokerPre: cc.Prefab,\n    },\n\n\n    onLoad () {\n\n    },\n\n    clearDiPai: function () {\n        this.node.removeAllChildren();\n        this.node.parent.getChildByName(\"GameInfo\").getChildByName(\"DiPaiBack\").active = true;\n        this.node.active = false;\n    },\n    initDiPai: function (list,isReconnect) {\n        this._childScale = 0.25;\n        this._childScale_old = 0.7;\n        this._diPaiArr = [];\n        this._diPaiPosArr = [cc.p(-41, 0), cc.p(0, 0), cc.p(41, 0)];\n        this._diPaiPosArr_old = [cc.p(-200, -300), cc.p(0, -300), cc.p(200, -300)];\n        this.node.parent.getChildByName(\"GameInfo\").getChildByName(\"DiPaiBack\").active = false;\n        var lists = [];\n        lists = cc.YL.DDZTools.SortPoker(list);\n        this._diPaiArr = lists;\n        lists = lists.reverse();\n        for (var i = 0; i < lists.length; i++) {\n            var pokerObj = cc.YL.cardtypeArrTrans.TransPokertypeArr(lists[i]);\n            var newNode = cc.instantiate(this.pokerPre);\n            newNode.setScale(this._childScale_old);\n            newNode.setPosition(this._diPaiPosArr_old[i]);\n            newNode.getComponent(\"DDZ_Poker\").initPoker(pokerObj);\n            this.node.addChild(newNode);\n            newNode.getChildByName(\"BG\").active = true;\n        }\n        this.node.active = true;\n        if(isReconnect == true){\n            this.node.children[0].setScale(this._childScale);\n            this.node.children[0].setPosition(this._diPaiPosArr[0]);\n            this.node.children[1].setScale(this._childScale);\n            this.node.children[1].setPosition(this._diPaiPosArr[1]);\n            this.node.children[2].setScale(this._childScale);\n            this.node.children[2].setPosition(this._diPaiPosArr[2]);\n            this.node.children[0].getChildByName(\"BG\").active = false;\n            this.node.children[1].getChildByName(\"BG\").active = false;\n            this.node.children[2].getChildByName(\"BG\").active = false;\n        }else{\n            setTimeout(function () {\n                this.node.children[0].stopAllActions();\n                var midFunc = cc.callFunc(function () {\n                    this.node.children[0].getChildByName(\"BG\").active = false;\n                }.bind(this));\n                this.node.children[0].runAction(\n                    cc.sequence(\n                        cc.scaleTo(0.12, 0.5, this._childScale_old),\n                        cc.scaleTo(0.12, 0, this._childScale_old),\n                        midFunc,\n                        cc.scaleTo(0.12, 0.5, this._childScale_old),\n                        cc.scaleTo(0.12, 1, this._childScale_old),\n                        cc.spawn(cc.moveTo(0.2, this._diPaiPosArr[0]), cc.scaleTo(0.2, this._childScale))));\n\n                this.node.children[1].stopAllActions();\n                var midFunc = cc.callFunc(function () {\n                    this.node.children[1].getChildByName(\"BG\").active = false;\n                }.bind(this));\n                this.node.children[1].runAction(\n                    cc.sequence(\n                        cc.scaleTo(0.12, 0.5, this._childScale_old),\n                        cc.scaleTo(0.12, 0, this._childScale_old),\n                        midFunc,\n                        cc.scaleTo(0.12, 0.5, this._childScale_old),\n                        cc.scaleTo(0.12, 1, this._childScale_old),\n                        cc.spawn(cc.moveTo(0.2, this._diPaiPosArr[1]), cc.scaleTo(0.2, this._childScale))));\n\n                this.node.children[2].stopAllActions();\n                var midFunc = cc.callFunc(function () {\n                    this.node.children[2].getChildByName(\"BG\").active = false;\n                }.bind(this));\n                this.node.children[2].runAction(\n                    cc.sequence(\n                        cc.scaleTo(0.12, 0.5, this._childScale_old),\n                        cc.scaleTo(0.12, 0, this._childScale_old),\n                        midFunc,\n                        cc.scaleTo(0.12, 0.5, this._childScale_old),\n                        cc.scaleTo(0.12, 1, this._childScale_old),\n                        cc.spawn(cc.moveTo(0.2, this._diPaiPosArr[2]), cc.scaleTo(0.2, this._childScale))));\n            }.bind(this), 200);\n        }\n\n\n\n\n    },\n});\n"]}