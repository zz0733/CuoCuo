{"version":3,"sources":["commonWahua.js"],"names":["cc","Class","extends","Component","properties","saiziPerfab","type","Prefab","default","disbandRoomPerfab","onLoad","fun","event","add","initSaizi","bind","initDisbandRoom","onDestroy","remove","data","saizi","instantiate","parent","node","getComponent","wahuaPlay","point","callback","destroy","disbandRoom","active","setData"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,qBAAa;AACTC,kBAAMN,GAAGO,MADA;AAETC,qBAAS;AAFA,SADL;;AAMRC,2BAAmB;AACfH,kBAAMN,GAAGO,MADM;AAEfC,qBAAS;AAFM;AANX,KAHP;;AAeLE,UAfK,oBAeK;AACNC,YAAIC,KAAJ,CAAUC,GAAV,CAAc,qBAAd,EAAqC,eAArC,EAAsD,KAAKC,SAAL,CAAeC,IAAf,CAAoB,IAApB,CAAtD;AACAJ,YAAIC,KAAJ,CAAUC,GAAV,CAAc,wBAAd,EAAwC,kBAAxC,EAA4D,KAAKG,eAAL,CAAqBD,IAArB,CAA0B,IAA1B,CAA5D;AACH,KAlBI;AAoBLE,aApBK,uBAoBO;AACRN,YAAIC,KAAJ,CAAUM,MAAV,CAAiB,qBAAjB;AACAP,YAAIC,KAAJ,CAAUM,MAAV,CAAiB,wBAAjB;AACH,KAvBI;AAyBLJ,aAzBK,qBAyBKK,IAzBL,EAyBW;AACZ,YAAIC,QAAQpB,GAAGqB,WAAH,CAAe,KAAKhB,WAApB,CAAZ;AACAe,cAAME,MAAN,GAAe,KAAKC,IAApB;AACAH,cAAMI,YAAN,CAAmB,WAAnB,EAAgCC,SAAhC,CAA0CN,KAAKO,KAA/C,EAAsD,YAAU;AAC5DP,iBAAKQ,QAAL;AACAP,kBAAMQ,OAAN;AACH,SAHD,EAGG,IAHH;AAIH,KAhCI;AAkCLZ,mBAlCK,2BAkCWG,IAlCX,EAkCiB;AAClB,YAAI,CAACA,IAAL,EAAW;AACP,iBAAKU,WAAL,CAAiBC,MAAjB,GAA0B,KAA1B;AACA;AACH;AACD,YAAI,CAAC,KAAKD,WAAV,EAAuB;AACnB,iBAAKA,WAAL,GAAmB7B,GAAGqB,WAAH,CAAe,KAAKZ,iBAApB,CAAnB;AACA,iBAAKoB,WAAL,CAAiBP,MAAjB,GAA0B,KAAKC,IAA/B;AACH;AACD,aAAKM,WAAL,CAAiBC,MAAjB,GAA0B,IAA1B;AACA,aAAKD,WAAL,CAAiBL,YAAjB,CAA8B,aAA9B,EAA6CO,OAA7C,CAAqDZ,IAArD;AACH;AA7CI,CAAT","file":"commonWahua.js","sourceRoot":"../../../../../../../assets/mahjong/script/wahua/desk","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        saiziPerfab: {\n            type: cc.Prefab,\n            default: null,\n        },\n\n        disbandRoomPerfab: {\n            type: cc.Prefab,\n            default: null,\n        }\n    },\n\n    onLoad () {\n        fun.event.add('commonWahuaSaiziEnd', 'wahuaSaiziEnd', this.initSaizi.bind(this));\n        fun.event.add('commonWahuaDisbandRoom', 'wahuaDisbandRoom', this.initDisbandRoom.bind(this));\n    },\n\n    onDestroy() {\n        fun.event.remove('commonWahuaSaiziEnd');\n        fun.event.remove('commonWahuaDisbandRoom');\n    },\n\n    initSaizi(data) {\n        let saizi = cc.instantiate(this.saiziPerfab);\n        saizi.parent = this.node;\n        saizi.getComponent('mjSaiziUI').wahuaPlay(data.point, function(){\n            data.callback();\n            saizi.destroy();\n        }, this);\n    },\n\n    initDisbandRoom(data) {\n        if (!data) {\n            this.disbandRoom.active = false;\n            return;\n        }\n        if (!this.disbandRoom) {\n            this.disbandRoom = cc.instantiate(this.disbandRoomPerfab);\n            this.disbandRoom.parent = this.node;\n        }\n        this.disbandRoom.active = true;\n        this.disbandRoom.getComponent('whVotingPop').setData(data);\n    },\n\n});\n"]}