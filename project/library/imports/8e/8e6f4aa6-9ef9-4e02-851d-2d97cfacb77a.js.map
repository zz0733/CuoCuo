{"version":3,"sources":["../../../../../../../assets/poker/DDZ/Script/Game/assets/poker/DDZ/Script/Game/DDZ_FaiPaiAction.js"],"names":["cc","Class","extends","Component","properties","poker","Prefab","onLoad","bindNode","selfFly","setPosition","rightFly","leftFly","fapaiPoint","node","getChildByName","leftPokerNode","rightPokerNode","selfActiveNode","find","selfHandPokerNode","startFaPai","schedule","actionFunc","stopAllActions","YL","DDZAudio","playFaPai","runAction","moveTo","showPokerFunc","unschedule","active","destroy","children","addChild","initPoker","type","instantiate","posX"],"mappings":"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","file":"DDZ_FaiPaiAction.js","sourceRoot":"../../../../../../../assets/poker/DDZ/Script/Game","sourcesContent":["\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        poker:cc.Prefab,\n    },\n\n\n    onLoad () {\n        this.bindNode();\n        this.selfFly.setPosition(5,9);\n        this.rightFly.setPosition(49.1,73.2);\n        this.leftFly.setPosition(-15.7,70.6);\n        this.fapaiPoint = 0;\n    },\n    bindNode: function(){\n        this.selfFly = this.node.getChildByName(\"SelfFlyNode\");\n        this.leftFly = this.node.getChildByName(\"LeftFlyNode\");\n        this.rightFly = this.node.getChildByName(\"RightFlyNode\");\n        this.leftPokerNode = this.node.getChildByName(\"LeftPokerNode\");\n        this.rightPokerNode = this.node.getChildByName(\"RightPokerNode\");\n        this.selfActiveNode = cc.find(\"DDZ_UIROOT/MainNode/SelfPlayerPoker\");\n        this.selfHandPokerNode = this.selfActiveNode.getChildByName(\"HandPoker\");\n    },\n    startFaPai: function(){\n        this.fapaiPoint = 0;\n        this.schedule(this.actionFunc, 0.1);\n    },\n    actionFunc: function(){\n        if(this.fapaiPoint <= 16){\n            this.bindNode();\n            this.selfFly.setPosition(5,9);\n            this.rightFly.setPosition(49.1,73.2);\n            this.leftFly.setPosition(-15.7,70.6);\n            this.selfFly.stopAllActions();\n            this.rightFly.stopAllActions();\n            this.leftFly.stopAllActions();\n            cc.YL.DDZAudio.playFaPai();\n            this.selfFly.runAction(cc.moveTo(0.08,5,-125));\n            this.rightFly.runAction(cc.moveTo(0.08,397,73));\n            this.leftFly.runAction(cc.moveTo(0.08,-388,71));\n            this.showPokerFunc();\n        }else {\n            this.unschedule(this.actionFunc);\n            this.node.active = false;\n            this.node.destroy();\n        }\n    },\n    showPokerFunc: function(){\n        this.bindNode();\n        this.selfHandPokerNode.children[this.fapaiPoint].active = true;\n        this.rightPokerNode.addChild(this.initPoker(1));\n        this.leftPokerNode.addChild(this.initPoker(2));\n        this.fapaiPoint++;\n    },\n    initPoker: function(type){\n        var node = cc.instantiate(this.poker);\n        if(type == 1){\n            var posX = this.fapaiPoint * (-10);\n            node.setPosition(posX,0);\n        }else if (type == 2){\n            var posX = this.fapaiPoint * (10);\n            node.setPosition(posX,0);\n        }\n        return node;\n    },\n});\n"]}