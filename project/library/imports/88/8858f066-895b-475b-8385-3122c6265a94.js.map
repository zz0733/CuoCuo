{"version":3,"sources":["../../../../../../../assets/poker/DDZ/Script/Player/assets/poker/DDZ/Script/Player/DDZ_PlayerInfoNode.js"],"names":["cc","Class","extends","Component","properties","GPSPre","Prefab","start","initNode","playerInfo","index","initByData","selfPos","p","rightPos","leftPos","node","getChildByName","setPosition","active","toID","YL","DDZrightPlayerInfo","userId","DDZleftPlayerInfo","data","getComponent","Label","string","nickName","toString","ip","onClickGPSDetail","log","rootUI","find","gpsNode","instantiate","addChild","playerinfos","playerInfos","show","onClickTools","event","custom","outside","content","from","fun","db","getData","UserId","to","chatType","net","pSend","onCloseNode","destroy","tempArr","DDZselfPlayerInfo","push","Address","gps","Feng","HeadUrl","headUrl","Ip","Sex","sex","Name","name","showName","PlayerIdx","Icon","isSelfPlayed","isTruePlayer"],"mappings":"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","file":"DDZ_PlayerInfoNode.js","sourceRoot":"../../../../../../../assets/poker/DDZ/Script/Player","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/class/index.html\n// Learn Attribute:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/reference/attributes/index.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/life-cycle-callbacks/index.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        GPSPre: cc.Prefab,\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {},\n\n    start () {\n\n    },\n    initNode: function (playerInfo, index) {\n        this.initByData(playerInfo);\n        this.selfPos = cc.p(-304, -128);\n        this.rightPos = cc.p(304, 202);\n        this.leftPos = cc.p(-304, 202);\n        switch (index) {\n            case 1: {\n                this.node.getChildByName(\"BG\").setPosition(this.selfPos);\n                this.node.getChildByName(\"BG\").getChildByName(\"Buttom\").active = false;\n                break;\n            }\n            case 2: {\n                this.node.getChildByName(\"BG\").setPosition(this.rightPos);\n                this.toID = cc.YL.DDZrightPlayerInfo.userId;\n                break;\n            }\n            case 3: {\n                this.node.getChildByName(\"BG\").setPosition(this.leftPos);\n                this.toID = cc.YL.DDZleftPlayerInfo.userId;\n                break;\n            }\n        }\n    },\n    initByData: function (data) {\n        this.node.getChildByName(\"BG\").getChildByName(\"Top\").getChildByName(\"nickName\").getComponent(cc.Label).string = \"昵称: \" + data.nickName.toString();\n        this.node.getChildByName(\"BG\").getChildByName(\"Top\").getChildByName(\"ID\").getComponent(cc.Label).string = \"ID: \" + data.userId.toString();\n        this.node.getChildByName(\"BG\").getChildByName(\"Mid\").getChildByName(\"Distance\").getComponent(cc.Label).string = \"IP: \" + data.ip.toString();\n\n    },\n    onClickGPSDetail: function () {\n        cc.YL.log(\"点击打开GPS详情\");\n        var rootUI = cc.find(\"DDZ_UIROOT/MainNode\");\n        var gpsNode = rootUI.getChildByName(\"DDZ_Map\") ?\n            rootUI.getChildByName(\"DDZ_Map\") :\n            cc.instantiate(this.GPSPre);\n        rootUI.getChildByName(\"DDZ_Map\") ?\n            rootUI.getChildByName(\"DDZ_Map\").active = true :\n            rootUI.addChild(gpsNode);\n        var playerinfos = this.playerInfos();\n        gpsNode.getComponent(\"DDZ_PlayerGPS\").show(playerinfos);\n    },\n    onClickTools: function (event, custom) {\n        var outside = {\n            content: custom,\n            from: fun.db.getData('UserInfo').UserId,\n            to: this.toID,\n            chatType: \"interact\"\n        }\n        fun.net.pSend(\"Chat\", outside);\n    },\n    onCloseNode: function () {\n        this.node.active = false;\n        this.node.destroy();\n    },\n    playerInfos: function () {\n        var tempArr = [];\n        if (cc.YL.DDZselfPlayerInfo) {\n            tempArr.push({\n                Address: cc.YL.DDZselfPlayerInfo.gps ? cc.YL.DDZselfPlayerInfo.gps : null,\n                // Address:{\"lat\":\"30.544779\",\"lng\":\"104.062456\",\"locdesc\":\"中国四川省成都市武侯区大源1线在成都移动互联创业大厦附近\"},\n                Feng: null,\n                HeadUrl: cc.YL.DDZselfPlayerInfo.headUrl,\n                Ip:cc.YL.DDZselfPlayerInfo.ip,\n                Sex:cc.YL.DDZselfPlayerInfo.sex,\n                UserId:cc.YL.DDZselfPlayerInfo.userId,\n                Name:cc.YL.DDZselfPlayerInfo.nickName,\n                name:cc.YL.DDZselfPlayerInfo.nickName,\n                showName:cc.YL.DDZselfPlayerInfo.nickName,\n                PlayerIdx: cc.YL.DDZselfPlayerInfo.index,\n                Icon:cc.YL.DDZrightPlayerInfo.headUrl,\n                isSelfPlayed:true,\n                isTruePlayer:true,\n            });\n        }\n        if (cc.YL.DDZrightPlayerInfo) {\n            tempArr.push({\n                Address: cc.YL.DDZrightPlayerInfo.gps? cc.YL.DDZrightPlayerInfo.gps : null,\n                // Address:{\"lat\":\"30.544779\",\"lng\":\"104.062456\",\"locdesc\":\"中国四川省成都市武侯区大源1线在成都移动互联创业大厦附近\"},\n                Feng: null,\n                HeadUrl: cc.YL.DDZrightPlayerInfo.headUrl,\n                Ip:cc.YL.DDZrightPlayerInfo.ip,\n                Sex:cc.YL.DDZrightPlayerInfo.sex,\n                UserId:cc.YL.DDZrightPlayerInfo.userId,\n                Name:cc.YL.DDZrightPlayerInfo.nickName,\n                name:cc.YL.DDZrightPlayerInfo.nickName,\n                showName:cc.YL.DDZrightPlayerInfo.nickName,\n                PlayerIdx: cc.YL.DDZrightPlayerInfo.index,\n                Icon:cc.YL.DDZrightPlayerInfo.headUrl,\n                isSelfPlayed:false,\n                isTruePlayer:true,\n            });\n        }\n        if (cc.YL.DDZleftPlayerInfo) {\n            tempArr.push({\n                Address: cc.YL.DDZleftPlayerInfo.gps? cc.YL.DDZleftPlayerInfo.gps : null,\n                // Address:{\"lat\":\"30.544779\",\"lng\":\"104.062456\",\"locdesc\":\"中国四川省成都市武侯区大源1线在成都移动互联创业大厦附近\"},\n                Feng: null,\n                HeadUrl: cc.YL.DDZleftPlayerInfo.headUrl,\n                Ip:cc.YL.DDZleftPlayerInfo.ip,\n                Sex:cc.YL.DDZleftPlayerInfo.sex,\n                UserId:cc.YL.DDZleftPlayerInfo.userId,\n                Name:cc.YL.DDZleftPlayerInfo.nickName,\n                name:cc.YL.DDZleftPlayerInfo.nickName,\n                showName:cc.YL.DDZleftPlayerInfo.nickName,\n                PlayerIdx: cc.YL.DDZleftPlayerInfo.index,\n                Icon:cc.YL.DDZrightPlayerInfo.headUrl,\n                isSelfPlayed:false,\n                isTruePlayer:true,\n            });\n        }\n        return tempArr;\n\n    },\n    // update (dt) {},\n});\n"]}