{"version":3,"sources":["../../../../../../../assets/poker/DDZ/Script/Game/assets/poker/DDZ/Script/Game/DDZ_GameManager.js"],"names":["DDZGameManager","cc","Class","bindNodeValue","selfID","fun","db","getData","UserId","selfNode","find","rightNode","leftNode","selfActiveNode","rightActiveNode","leftActiveNode","selfHandPokerNode","getChildByName","rightHandPokerNode","leftHandPokerNode","selfOutNode","rightOutNode","leftOutNode","selfOutNodeComp","getComponent","rightOutNodeComp","leftOutNodeComp","selfHandPokerNodeComp","rightHandPokerNodeComp","leftHandPokerNodeComp","selfNodeComp","rightNodeComp","leftNodeComp","BtnNode","LoadScene","str","director","loadScene","initDeskByData","data","UIROOT","initDeskUI","initPlayerNode","userId","initSelfPlayerNode","YL","DDZDeskInfo","status","initReady","DDZselfPlayerInfo","isReady","DDZrightPlayerInfo","DDZleftPlayerInfo","selfIndex","index","initRightPlayerNode","initLeftPlayerNode","updateReady","retMsg","showAndHideReady","isReadyOk","hideOffline","gameOpen","updateRoomInfo","currentRound","info","DDZCurrentRound","active","updateOutWord","checkPlayerNode","handPokerManager","isFaPaiReconnet","isReconnect","initHandPoker","handPokers","i","paiCount","length","initOutPoker","outPais","outType","initHandPokerCount","paiCounts","leftOut","rightOut","rightType","leftType","lastOutCardData","paiIds","showFaPaiAction","setTimeout","bind","startJiaoFen","time","DDZGameAction","updateJiaoFen","startJiaBei","isClear","endJiaoFen","updateJiaBei","showDiPai","loaderID","diZhuId","showDiZhuIcon","DDZAnimation","playDizhu","warn","oldCard","handPokerIDs","diPais","push","cardNum","showPass","removeAllChildren","playerOutCard","playerIndex","j","splice","DDZPokerTip","startAnalysis","playWaring","DDZAudio","remainPaiCount","playAnimationByType","overTurn","endJiaBei","showOneGameOver","showHeadAnimation","showAllGameOver","isNormalEnd","DDZAllGameOverData","playerLeave","owner","clearNodeUI","cleanHandPokerCount","clearOutPoker","PID_BREAK","showOffline","net","send","err","module","exports"],"mappings":"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","file":"DDZ_GameManager.js","sourceRoot":"../../../../../../../assets/poker/DDZ/Script/Game","sourcesContent":["/********\n * 房间渲染相关\n * *********/\n\nvar DDZGameManager = cc.Class({});\nDDZGameManager.bindNodeValue = function () {\n    this.selfID = fun.db.getData('UserInfo').UserId;\n    this.selfNode = cc.find(\"DDZ_UIROOT/MainNode/SelfPlayerInfo\");\n    this.rightNode = cc.find(\"DDZ_UIROOT/MainNode/RightPlayerInfo\");\n    this.leftNode = cc.find(\"DDZ_UIROOT/MainNode/LeftPlayerInfo\");\n    this.selfActiveNode = cc.find(\"DDZ_UIROOT/MainNode/SelfPlayerPoker\");\n    this.rightActiveNode = cc.find(\"DDZ_UIROOT/MainNode/RightPlayerPoker\");\n    this.leftActiveNode = cc.find(\"DDZ_UIROOT/MainNode/LeftPlayerPoker\");\n    this.selfHandPokerNode = this.selfActiveNode.getChildByName(\"HandPoker\");\n    this.rightHandPokerNode = this.rightActiveNode.getChildByName(\"HandPoker\");\n    this.leftHandPokerNode = this.leftActiveNode.getChildByName(\"HandPoker\");\n    this.selfOutNode = this.selfActiveNode.getChildByName(\"OutPoker\");\n    this.rightOutNode = this.rightActiveNode.getChildByName(\"OutPoker\");\n    this.leftOutNode = this.leftActiveNode.getChildByName(\"OutPoker\");\n    this.selfOutNodeComp = this.selfOutNode.getComponent(\"DDZ_PlayerSelfOutPoker\");\n    this.rightOutNodeComp = this.rightOutNode.getComponent(\"DDZ_PlayerRightOutPoker\");\n    this.leftOutNodeComp = this.leftOutNode.getComponent(\"DDZ_PlayerLeftOutPoker\");\n    this.selfHandPokerNodeComp = this.selfHandPokerNode.getComponent(\"DDZ_PlayerSelfPoker\");\n    this.rightHandPokerNodeComp = this.rightHandPokerNode.getComponent(\"DDZ_PlayerRightPoker\");\n    this.leftHandPokerNodeComp = this.leftHandPokerNode.getComponent(\"DDZ_PlayerLeftPoker\");\n    this.selfNodeComp = this.selfNode.getComponent(\"DDZ_PlayerSelfInfo\");\n    this.rightNodeComp = this.rightNode.getComponent(\"DDZ_PlayerRightInfo\");\n    this.leftNodeComp = this.leftNode.getComponent(\"DDZ_PlayerLeftInfo\");\n    this.BtnNode = cc.find(\"DDZ_UIROOT/MainNode/PlayerBtnNode\");\n};\nDDZGameManager.LoadScene = function (str) {\n    // 跳转场景\n    cc.director.loadScene(str);\n};\nDDZGameManager.initDeskByData = function (data) {\n    //牌桌Info\n    var UIROOT = cc.find(\"DDZ_UIROOT\");\n    UIROOT.getChildByName(\"MainNode\").getComponent(\"DDZ_Main\").initDeskUI(data);\n};\nDDZGameManager.initPlayerNode = function (data) {\n    // 玩家信息\n    this.bindNodeValue();\n    if (this.selfID == data.userId) {\n        // 玩家自己的消息信息\n        this.selfNodeComp.initSelfPlayerNode(data);\n        if (cc.YL.DDZDeskInfo.status <= 2) {\n            var UIROOT = cc.find(\"DDZ_UIROOT\");\n            UIROOT.getChildByName(\"MainNode\").getComponent(\"DDZ_Main\").initReady(cc.YL.DDZselfPlayerInfo.isReady);// 准备的按钮初始化\n        }\n        cc.YL.DDZselfPlayerInfo = data;\n        if(!cc.YL.DDZrightPlayerInfo){\n            cc.YL.DDZrightPlayerInfo = {\n                userId: 0,\n            };\n        }\n        if(!cc.YL.DDZleftPlayerInfo){\n            cc.YL.DDZleftPlayerInfo = {\n                userId: 0,\n            };\n        }\n    } else {\n        if (cc.YL.selfIndex == 1) {\n            if (data.index == 2) {\n                this.rightNodeComp.initRightPlayerNode(data);\n                cc.YL.DDZrightPlayerInfo = data;\n            } else if (data.index == 0) {\n                this.leftNodeComp.initLeftPlayerNode(data);\n                cc.YL.DDZleftPlayerInfo = data;\n            }\n        }\n        if (cc.YL.selfIndex == 0) {\n            if (data.index == 1) {\n                this.rightNodeComp.initRightPlayerNode(data);\n                cc.YL.DDZrightPlayerInfo = data;\n            } else if (data.index == 2) {\n                this.leftNodeComp.initLeftPlayerNode(data);\n                cc.YL.DDZleftPlayerInfo = data;\n            }\n        }\n        if (cc.YL.selfIndex == 2) {\n            if (data.index == 0) {\n                this.rightNodeComp.initRightPlayerNode(data);\n                cc.YL.DDZrightPlayerInfo = data;\n            } else if (data.index == 1) {\n                this.leftNodeComp.initLeftPlayerNode(data);\n                cc.YL.DDZleftPlayerInfo = data;\n            }\n        }\n    }\n};\nDDZGameManager.updateReady = function (data) {\n    this.bindNodeValue();\n    if (this.selfID == data.retMsg.userId) {\n        this.selfNodeComp.showAndHideReady(data.isReadyOk);\n        this.selfNodeComp.hideOffline();\n    }\n    if (data.retMsg.userId == cc.YL.DDZrightPlayerInfo.userId) {\n        this.rightNodeComp.showAndHideReady(data.isReadyOk);\n        this.rightNodeComp.hideOffline();\n    }\n    if (data.retMsg.userId == cc.YL.DDZleftPlayerInfo.userId) {\n        this.leftNodeComp.showAndHideReady(data.isReadyOk);\n        this.leftNodeComp.hideOffline();\n    }\n};\nDDZGameManager.gameOpen = function (data) {\n    //data.currentRound // 当前局数\n    //data.second // 倒计时时间\n    var UIROOT = cc.find(\"DDZ_UIROOT\");\n    UIROOT.getChildByName(\"MainNode\").getComponent(\"DDZ_Main\").updateRoomInfo(data.currentRound);\n    cc.YL.info(\"当前局数\", data.currentRound);\n    cc.YL.DDZCurrentRound = data.currentRound;\n    this.selfNode.getChildByName(\"Word\").active = false;\n    this.rightNode.getChildByName(\"Word\").active = false;\n    this.leftNode.getChildByName(\"Word\").active = false;\n    this.selfNodeComp.updateOutWord(0);\n    this.rightNodeComp.updateOutWord(0);\n    this.leftNodeComp.updateOutWord(0);\n    this.checkPlayerNode();\n};\nDDZGameManager.handPokerManager = function (data) {\n    this.bindNodeValue();\n    this.isFaPaiReconnet = data.isReconnect;\n    if(data.isReconnect == true){\n        if (this.selfID == data.userId) {\n            this.selfHandPokerNodeComp.initHandPoker(data.handPokers);\n            for (var i = 0; i < data.paiCount.length; i++) {\n                cc.YL.info(\"渲染玩家手牌数和出的牌\", data.paiCount[i].userId);\n                if (data.paiCount[i].userId == this.selfID) {\n                    this.selfOutNodeComp.initOutPoker(data.paiCount[i].outPais,data.paiCount[i].outType);//todo\n                }\n                if (data.paiCount[i].userId == cc.YL.DDZrightPlayerInfo.userId) {\n                    this.rightHandPokerNodeComp.initHandPokerCount(data.paiCount[i].paiCounts);\n                    this.rightOutNodeComp.initOutPoker(data.paiCount[i].outPais,data.paiCount[i].outType);//todo\n\n                }\n                if (data.paiCount[i].userId == cc.YL.DDZleftPlayerInfo.userId) {\n                    this.leftHandPokerNodeComp.initHandPokerCount(data.paiCount[i].paiCounts);\n                    this.leftOutNodeComp.initOutPoker(data.paiCount[i].outPais,data.paiCount[i].outType);//todo\n\n                }\n            }\n            // 找出上一次出的牌，提示用\n            var leftOut = [];\n            var rightOut = [];\n            var rightType= 0;\n            var leftType = 0;\n            for (var i = 0; i < data.paiCount.length; i++) {\n                if (data.paiCount[i].userId == cc.YL.DDZrightPlayerInfo.userId) {\n                    rightOut = data.paiCount[i].outPais;\n                    rightType = data.paiCount[i].outType;\n                }\n                if (data.paiCount[i].userId == cc.YL.DDZleftPlayerInfo.userId) {\n                    leftOut = data.paiCount[i].outPais;\n                    leftType = data.paiCount[i].outType;\n                }\n            }\n            if(leftOut){\n                cc.YL.lastOutCardData = {outType:leftType,length:leftOut.length,paiIds:leftOut};\n            }else if(rightOut){\n                cc.YL.lastOutCardData = {outType:rightType,length:rightOut.length,paiIds:rightOut};\n            }\n        }\n    }else{\n        // 不是断线重连，有一个发牌动画\n        if (this.selfID == data.userId) {\n            this.selfHandPokerNodeComp.initHandPoker(data.handPokers,true);\n            var UIROOT = cc.find(\"DDZ_UIROOT\");\n            UIROOT.getChildByName(\"MainNode\").getComponent(\"DDZ_Main\").showFaPaiAction();\n            setTimeout(function(){\n                cc.find(\"DDZ_UIROOT/MainNode/SelfPlayerPoker/HandPokerTouch\").active = true;\n                for (var i = 0; i < data.paiCount.length; i++) {\n                    if (data.paiCount[i].userId == cc.YL.DDZrightPlayerInfo.userId) {\n                        this.rightHandPokerNodeComp.initHandPokerCount(data.paiCount[i].paiCounts);\n                    }\n                    if (data.paiCount[i].userId == cc.YL.DDZleftPlayerInfo.userId) {\n                        this.leftHandPokerNodeComp.initHandPokerCount(data.paiCount[i].paiCounts);\n                    }\n                }\n            }.bind(this),2700);\n        }\n    }\n\n};\nDDZGameManager.startJiaoFen = function (data) {\n    // 开始叫分\n    var time = 10;\n    if(data.retMsg.userId == this.selfID && this.isFaPaiReconnet == false){\n        time = 2800;\n    }\n    setTimeout(function(){\n        this.isFaPaiReconnet = true;\n        cc.YL.DDZGameAction.startJiaoFen(data);\n    }.bind(this), time);\n};\nDDZGameManager.updateJiaoFen = function (data) {\n    cc.YL.DDZGameAction.updateJiaoFen(data);\n};\nDDZGameManager.startJiaBei = function (data) {\n    // 开始加倍\n    setTimeout(function () {\n        this.isClear = false;\n        if(this.isClear == false){\n            this.selfNodeComp.updateOutWord(0);\n            this.rightNodeComp.updateOutWord(0);\n            this.leftNodeComp.updateOutWord(0);\n            this.isClear = true;\n        }\n        cc.YL.DDZGameAction.endJiaoFen();\n        cc.YL.DDZGameAction.startJiaBei(data);\n    }.bind(this),200);\n};\nDDZGameManager.updateJiaBei = function (data) {\n    cc.YL.DDZGameAction.updateJiaBei(data);\n};\nDDZGameManager.showDiPai = function (data) {\n    if(data.isReconnect == true){\n        cc.YL.loaderID = data.diZhuId;\n        if (this.selfID == data.diZhuId) {\n            this.selfNodeComp.showDiZhuIcon(true);\n        }\n        if (data.diZhuId == cc.YL.DDZrightPlayerInfo.userId) {\n            this.rightNodeComp.showDiZhuIcon(true);\n        }\n        if (data.diZhuId == cc.YL.DDZleftPlayerInfo.userId) {\n            this.leftNodeComp.showDiZhuIcon(true);\n        }\n        cc.YL.DDZGameAction.showDiPai(data,true);\n    }else {\n        if (this.selfID == data.diZhuId) {\n            cc.YL.DDZAnimation.playDizhu(0);\n        }\n        if (data.diZhuId == cc.YL.DDZrightPlayerInfo.userId) {\n            cc.YL.DDZAnimation.playDizhu(1);\n        }\n        if (data.diZhuId == cc.YL.DDZleftPlayerInfo.userId) {\n            cc.YL.DDZAnimation.playDizhu(2);\n        }\n        setTimeout(function () {\n            cc.YL.loaderID = data.diZhuId;\n            if (this.selfID == data.diZhuId) {\n                cc.YL.warn(\"玩家自己是地主\");\n                this.selfNodeComp.showDiZhuIcon(true);\n                var oldCard = this.selfHandPokerNodeComp.handPokerIDs;\n                for (var i = 0; i < data.diPais.length; i++) {\n                    oldCard.push(data.diPais[i]);\n                }\n                this.selfHandPokerNodeComp.initHandPoker(oldCard);\n            }\n            if (data.diZhuId == cc.YL.DDZrightPlayerInfo.userId) {\n                cc.YL.warn(\"右边是地主\");\n                this.rightNodeComp.showDiZhuIcon(true);\n                this.rightHandPokerNodeComp.initHandPokerCount(this.rightHandPokerNodeComp.cardNum + 3);\n            }\n            if (data.diZhuId == cc.YL.DDZleftPlayerInfo.userId) {\n                cc.YL.warn(\"左边是地主\");\n                this.leftNodeComp.showDiZhuIcon(true);\n                this.leftHandPokerNodeComp.initHandPokerCount(this.leftHandPokerNodeComp.cardNum + 3);\n            }\n            cc.YL.DDZGameAction.showDiPai(data);\n        }.bind(this),1000);\n        setTimeout(function () {\n            this.bindNodeValue();\n            this.selfNodeComp.updateOutWord(0);\n            this.rightNodeComp.updateOutWord(0);\n            this.leftNodeComp.updateOutWord(0);\n            cc.YL.DDZGameAction.endJiaoFen();\n        }.bind(this),200);\n    }\n};\nDDZGameManager.showPass = function (data) {\n    cc.YL.DDZGameAction.showPass(data);\n    this.BtnNode.removeAllChildren();\n};\nDDZGameManager.playerOutCard = function (data) {\n    // 出牌的处理\n    // 需要渲染出牌节点，牌剩余张数，玩家自己的手牌\n    this.bindNodeValue();\n    var playerIndex = -1;\n    if (this.selfID == data.retMsg.userId) {\n        this.BtnNode.removeAllChildren();\n        for (var j = 0; j < data.paiIds.length; j++) {\n            for (var i = 0; i < this.selfHandPokerNodeComp.handPokerIDs.length; i++) {\n                if (data.paiIds[j] == this.selfHandPokerNodeComp.handPokerIDs[i]) {\n                    cc.YL.info(\"删除自己手牌是：\",this.selfHandPokerNodeComp.handPokerIDs[i]);\n                    this.selfHandPokerNodeComp.handPokerIDs.splice(i, 1);\n                    break;\n                }\n            }\n        }\n        this.selfHandPokerNodeComp.initHandPoker(this.selfHandPokerNodeComp.handPokerIDs);\n        this.selfOutNodeComp.initOutPoker(data.paiIds,data.outType);\n        cc.YL.DDZPokerTip.startAnalysis();// 出牌更新玩家当前手牌后，分析手牌\n        if(this.selfHandPokerNodeComp.handPokerIDs.length <= 2 && this.selfHandPokerNodeComp.handPokerIDs.length > 0 ){\n            cc.YL.DDZAnimation.playWaring(0);\n            cc.YL.DDZAudio.playWaring(cc.YL.DDZselfPlayerInfo.userId,this.selfHandPokerNodeComp.handPokerIDs.length);\n        }\n        playerIndex = 0;\n        this.selfNodeComp.hideOffline();\n    }\n    if (data.retMsg.userId == cc.YL.DDZrightPlayerInfo.userId) {\n        this.rightHandPokerNodeComp.initHandPokerCount(data.remainPaiCount);\n        this.rightOutNodeComp.initOutPoker(data.paiIds,data.outType);\n        if(data.remainPaiCount <= 2 && data.remainPaiCount > 0){\n            cc.YL.DDZAnimation.playWaring(1);\n            cc.YL.DDZAudio.playWaring(cc.YL.DDZrightPlayerInfo.userId,data.remainPaiCount);\n        }\n        playerIndex = 1;\n        this.rightNodeComp.hideOffline();\n    }\n    if (data.retMsg.userId == cc.YL.DDZleftPlayerInfo.userId) {\n        this.leftHandPokerNodeComp.initHandPokerCount(data.remainPaiCount);\n        this.leftOutNodeComp.initOutPoker(data.paiIds,data.outType);\n        if(data.remainPaiCount <= 2 && data.remainPaiCount > 0){\n            cc.YL.DDZAnimation.playWaring(2);\n            cc.YL.DDZAudio.playWaring(cc.YL.DDZleftPlayerInfo.userId,data.remainPaiCount);\n        }\n        playerIndex = 2;\n        this.leftNodeComp.hideOffline();\n    }\n    cc.YL.DDZAnimation.playAnimationByType(playerIndex,data.outType);\n\n};\nDDZGameManager.overTurn = function (data) {\n    cc.YL.DDZGameAction.endJiaoFen();\n    cc.YL.DDZGameAction.endJiaBei();\n    cc.YL.DDZGameAction.overTurn(data);\n};\nDDZGameManager.showOneGameOver = function (data) {\n    setTimeout(function () {\n        this.isClear = false;\n        this.selfNodeComp.updateOutWord(0);\n        this.rightNodeComp.updateOutWord(0);\n        this.leftNodeComp.updateOutWord(0);\n        this.selfNodeComp.showHeadAnimation(false);\n        this.rightNodeComp.showHeadAnimation(false);\n        this.leftNodeComp.showHeadAnimation(false);\n        var UIROOT = cc.find(\"DDZ_UIROOT\");\n        UIROOT.getChildByName(\"MainNode\").getComponent(\"DDZ_Main\").showOneGameOver(data);\n    }.bind(this),700);\n};\nDDZGameManager.showAllGameOver = function (data) {\n    cc.YL.info(\"是否是中途解散\",data.isNormalEnd);\n    this.isClear = false;\n    this.selfNodeComp.showHeadAnimation(false);\n    this.rightNodeComp.showHeadAnimation(false);\n    this.leftNodeComp.showHeadAnimation(false);\n    if(data.isNormalEnd == false){\n        var UIROOT = cc.find(\"DDZ_UIROOT\");\n        UIROOT.getChildByName(\"MainNode\").getComponent(\"DDZ_Main\").showAllGameOver(data);\n    }else{\n        cc.YL.DDZAllGameOverData = data;\n    }\n\n};\nDDZGameManager.playerLeave = function(data){\n    this.bindNodeValue();\n    if (this.selfID == data.retMsg.userId) {\n        cc.YL.DDZselfPlayerInfo = null;\n        cc.YL.DDZrightPlayerInfo = null;\n        cc.YL.DDZleftPlayerInfo = null;\n        if(cc.YL.DDZDeskInfo.owner != fun.db.getData('UserInfo').UserId){\n            cc.director.loadScene(\"hall\");\n        }\n    }\n    if(cc.YL.DDZrightPlayerInfo){\n        if (data.retMsg.userId == cc.YL.DDZrightPlayerInfo.userId) {\n            cc.YL.DDZrightPlayerInfo = null;\n            this.rightNodeComp.clearNodeUI();\n            this.rightNode.active = false;\n            this.rightHandPokerNodeComp.cleanHandPokerCount();\n            this.rightOutNodeComp.clearOutPoker();\n        }\n    }\n    if(cc.YL.DDZleftPlayerInfo){\n        if (data.retMsg.userId == cc.YL.DDZleftPlayerInfo.userId) {\n            cc.YL.DDZleftPlayerInfo = null;\n            this.leftNodeComp.clearNodeUI();\n            this.leftNode.active = false;\n            this.leftHandPokerNodeComp.cleanHandPokerCount();\n            this.leftOutNodeComp.clearOutPoker();\n        }\n    }\n\n};\nDDZGameManager.PID_BREAK = function(data){\n    this.bindNodeValue();\n    if (this.selfID == data.retMsg.userId) {\n        this.selfNodeComp.showOffline();\n    }\n    if(cc.YL.DDZrightPlayerInfo){\n        if (data.retMsg.userId == cc.YL.DDZrightPlayerInfo.userId) {\n            this.rightNodeComp.showOffline();\n        }\n    }\n    if(cc.YL.DDZleftPlayerInfo){\n        if (data.retMsg.userId == cc.YL.DDZleftPlayerInfo.userId) {\n            this.leftNodeComp.showOffline();\n        }\n    }\n};\nDDZGameManager.checkPlayerNode = function(){\n    if(this.selfNode.active == false\n    || this.rightNode.active == false\n    || this.leftNode.active == false){\n        fun.net.send(\"PID_LOGINSERVER_REQ\", {\n            userId: fun.db.getData('UserInfo').UserId,\n        });\n        cc.YL.err(\"玩家节点显示不完整，断线重连一波\");\n    }\n};\nmodule.exports = DDZGameManager;\ncc.YL.DDZGameManager = DDZGameManager;"]}