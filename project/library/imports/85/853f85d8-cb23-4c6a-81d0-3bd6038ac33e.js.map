{"version":3,"sources":["../../../../../../../assets/poker/DDZ/Script/Player/assets/poker/DDZ/Script/Player/DDZ_PlayerRightInfo.js"],"names":["cc","Class","extends","Component","properties","playerInfo","txtAtlas","SpriteAtlas","onLoad","BtnNode","find","initRightPlayerNode","data","node","active","clearNodeUI","initNodeUI","showAndHideReady","isReady","getChildByName","getComponent","Sprite","spriteFrame","showDiZhuIcon","Label","string","clearRate","updateOutWord","parseInt","fun","utils","loadUrlRes","headUrl","userId","nickName","coin","YL","DDZDeskInfo","status","isJiaoFen","isJiaBei","showRate","loaderID","DDZrightPlayerInfo","hideOffline","isBreak","showOffline","isDiZhu","onClickPlayerInfo","DDZAudio","playBtnClick","initPlayerInfoNode","strType","fileNameArr","atlas","getSpriteFrame","showHeadAnimation","isShow","sp","Skeleton","animation"],"mappings":"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","file":"DDZ_PlayerRightInfo.js","sourceRoot":"../../../../../../../assets/poker/DDZ/Script/Player","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        playerInfo: null,\n        txtAtlas: cc.SpriteAtlas,\n    },\n\n    onLoad () {\n        this.playerInfo = null;\n        this.BtnNode = cc.find(\"DDZ_UIROOT/MainNode/PlayerBtnNode\");\n    },\n    initRightPlayerNode: function (data) {\n        this.node.active = true;\n        this.playerInfo = data;\n        this.clearNodeUI();\n        this.initNodeUI(data);\n        this.showAndHideReady(data.isReady);\n    },\n    clearNodeUI: function () {\n        this.node.getChildByName(\"HeadNode\").getComponent(cc.Sprite).spriteFrame = null;\n        this.showDiZhuIcon(false);\n        this.node.getChildByName(\"ID\").getComponent(cc.Label).string = \"\";\n        this.node.getChildByName(\"NickNameBG\").getChildByName(\"Name\").getComponent(cc.Label).string = \"\";\n        this.node.getChildByName(\"NickNameBG\").getChildByName(\"Num\").getComponent(cc.Label).string = \"\";\n        this.clearRate();\n        this.updateOutWord(parseInt(0));\n    },\n    initNodeUI: function (data) {\n        fun.utils.loadUrlRes(data.headUrl, this.node.getChildByName(\"HeadNode\"));// 头像\n        this.showDiZhuIcon(false);\n        this.node.getChildByName(\"ID\").getComponent(cc.Label).string = data.userId;\n        this.node.getChildByName(\"NickNameBG\").getChildByName(\"Name\").getComponent(cc.Label).string = data.nickName;\n        this.node.getChildByName(\"NickNameBG\").getChildByName(\"Num\").getComponent(cc.Label).string = data.coin;\n        this.node.getChildByName(\"Rate\").active = false;\n        if (cc.YL.DDZDeskInfo.status == 4 && data.isJiaoFen != -1) {\n            // 叫分阶段\n            this.updateOutWord(parseInt(data.isJiaoFen + 3));\n        }\n        if (data.isJiaBei == 1) {\n            this.showRate(true);\n        }\n        if (data.isJiaBei != 0 && cc.YL.DDZDeskInfo.status == 5) {\n            data.isJiaBei == 1 ?\n                this.updateOutWord(2) :\n                this.updateOutWord(13);\n        }\n        if((cc.YL.DDZDeskInfo.status == 5 || cc.YL.DDZDeskInfo.status == 6)\n            && cc.YL.loaderID == cc.YL.DDZrightPlayerInfo.userId){\n            this.showDiZhuIcon(true);\n        }\n        this.hideOffline();\n        if(data.isBreak === true){\n            this.showOffline();\n        }\n    },\n    showOffline: function(){\n        this.node.getChildByName(\"OfflineNode\").active = true;\n    },\n    hideOffline: function(){\n        this.node.getChildByName(\"OfflineNode\").active = false;\n    },\n    showAndHideReady: function (isReady) {\n        if (isReady == true && cc.YL.DDZDeskInfo.status <= 2) {\n            this.node.getChildByName(\"Word\").active = true;\n        }  else {\n            this.node.getChildByName(\"Word\").active = false;\n        }\n    },\n    showDiZhuIcon: function (isDiZhu) {\n        this.isDiZhu = isDiZhu;\n        this.node.getChildByName(\"DiZhuIcon\").active = this.isDiZhu;\n    },\n    onClickPlayerInfo: function () {\n        cc.YL.DDZAudio.playBtnClick();\n        cc.find(\"DDZ_UIROOT/MainNode\").getComponent(\"DDZ_Main\").initPlayerInfoNode(this.playerInfo, 2);\n    },\n    showRate: function (active) {\n        this.node.getChildByName(\"Rate\").active = active;\n    },\n    clearRate: function () {\n        this.node.getChildByName(\"Rate\").active = false;\n    },\n    updateOutWord: function (strType) {\n        // 不出 1 dz_zt0000\n        // 加倍 2 dz_zt00\n        // 不叫 3 dz_zt0\n        // 一分 4 dz_zt1\n        // 2分  5 dz_zt2\n        // 3分  5 dz_zt3\n        // 6分  5 dz_zt4\n        // 9分  5 dz_zt5\n        var fileNameArr = [\"\",\"dz_zt000\",\"dz_zt00\",\"dz_zt0\",\"dz_zt1\",\"dz_zt2\",\"dz_zt3\",\"\",\"\",\"dz_zt4\",\"\",\"\",\"dz_zt5\",\"dz_zt7\"];\n        var atlas = this.txtAtlas;\n        if (strType == 0 || !strType) {\n            this.node.getChildByName(\"ShowWord\").active = false;\n        } else {\n            this.node.getChildByName(\"ShowWord\").active = true;\n            this.node.getChildByName(\"ShowWord\").getComponent(cc.Sprite).spriteFrame = atlas.getSpriteFrame(fileNameArr[strType]);\n        }\n\n    },\n    showHeadAnimation: function (isShow) {\n        this.node.getChildByName(\"HeadAnim\").getComponent(sp.Skeleton).animation = \"animation\";\n        this.node.getChildByName(\"HeadAnim\").active = isShow;\n    }\n});\n"]}