{"version":3,"sources":["../../../../../../../assets/poker/DDZ/Script/Desk/assets/poker/DDZ/Script/Desk/DDZ_Chat.js"],"names":["cc","Class","extends","Component","properties","toolsPre","Prefab","textPre","emojiPre","voicePre","onLoad","initMessage","onDestroy","cleanMessage","fun","event","add","onChatAck","bind","onVoiceAck","remove","data","selfID","db","getData","UserId","chatType","showEmoji","showTools","showMsg","YL","info","length","from","selfPos","p","rightPos","leftPos","voice","instantiate","node","addChild","getChildByName","getComponent","sp","Skeleton","animation","setPosition","DDZrightPlayerInfo","userId","setScale","DDZleftPlayerInfo","x","y","parent","name","setTimeout","active","removeFromParent","text","Label","string","content","toString","width","text_3","posX","getPositionX","setPositionX","text_2","DDZAudio","playMsgMusic","parseInt","index","emoji","anim","emoji_2","emoji_3","startPos","endPos","to","toolsNode","show"],"mappings":"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","file":"DDZ_Chat.js","sourceRoot":"../../../../../../../assets/poker/DDZ/Script/Desk","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/class/index.html\n// Learn Attribute:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/reference/attributes/index.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/life-cycle-callbacks/index.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        toolsPre:cc.Prefab,\n        textPre: cc.Prefab,\n        emojiPre:cc.Prefab,\n        voicePre:cc.Prefab,\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        this.initMessage();\n\n    },\n    onDestroy(){\n        this.cleanMessage();\n    },\n    initMessage: function () {\n        fun.event.add('DDZRoomChat', 'RoomChat', this.onChatAck.bind(this));\n        fun.event.add('DDZRoomChatVoice', 'RoomChatVoice', this.onVoiceAck.bind(this));\n    },\n\n    cleanMessage: function () {\n        fun.event.remove(\"DDZRoomChat\");\n        fun.event.remove(\"DDZRoomChatVoice\");\n    },\n    onChatAck: function (data) {\n        this.selfID = fun.db.getData('UserInfo').UserId;\n        if (data.chatType === 'emoji') {\n         //表情\n            this.showEmoji(data);\n        } else if (data.chatType === 'interact') {\n           // 道具\n            this.showTools(data);\n        } else if (data.chatType === 'text') {\n            // 文字\n            this.showMsg(data);\n        }\n    },\n    onVoiceAck: function (data) {\n        // 语音播放\n        this.selfID = fun.db.getData('UserInfo').UserId;\n        cc.YL.info(\"ddz收到语音消息\",data.length,data.from,this.selfID);\n        this.selfPos = cc.p(-513,-141);\n        this.rightPos = cc.p(518, 212);\n        this.leftPos = cc.p(-506, 219);\n        var voice = cc.instantiate(this.voicePre);\n        this.node.addChild(voice);\n        voice.getChildByName(\"Voice\").getComponent(sp.Skeleton).animation = \"animation\";\n        if (this.selfID == data.from) {\n            voice.setPosition( this.selfPos );\n        }\n        if (data.from == cc.YL.DDZrightPlayerInfo.userId) {\n            voice.setPosition( this.rightPos );\n            voice.setScale(-1,1);\n        }\n        if (data.from == cc.YL.DDZleftPlayerInfo.userId) {\n            voice.setPosition( this.leftPos );\n        }\n        cc.YL.info(\"开始播放语音\",voice.x,voice.y,voice.parent.name);\n        setTimeout(function(){\n            voice.active = false;\n            voice.removeFromParent();\n        }.bind(this),data.length * 1000);\n\n    },\n    showMsg: function(data){\n        this.selfPos = cc.p(-557,-141);\n        this.rightPos = cc.p(562, 212);\n        this.leftPos = cc.p(-555, 211);\n        if (this.selfID == data.from) {\n            var text = cc.instantiate(this.textPre);\n            this.node.addChild(text);\n            text.getChildByName(\"text\").getComponent(cc.Label).string = data.content.toString();\n            text.getChildByName(\"text\").width = data.content.length * 26;\n            text.width =  data.content.length * 26 + 26;\n            text.setPosition(this.selfPos);\n            setTimeout(function () {\n                text.active = false;\n                text.removeFromParent();\n            }.bind(this),2000);\n        }\n        if (data.from == cc.YL.DDZrightPlayerInfo.userId) {\n            var text_3 = cc.instantiate(this.textPre);\n            this.node.addChild(text_3);\n            text_3.getChildByName(\"text\").getComponent(cc.Label).string = data.content.toString();\n            text_3.getChildByName(\"text\").width = data.content.length * 26;\n            text_3.width =  data.content.length * 26 + 26;\n            text_3.setPosition(this.rightPos);\n            text_3.setScale(-1,1);\n            text_3.getChildByName(\"text\").setScale(-1,1);\n            var posX =  text_3.getChildByName(\"text\").getPositionX();\n            text_3.getChildByName(\"text\").setPositionX(posX + data.content.length * 26);\n            setTimeout(function () {\n                text_3.active = false;\n                text_3.removeFromParent();\n            }.bind(this),2000);\n        }\n        if (data.from == cc.YL.DDZleftPlayerInfo.userId) {\n            var text_2 = cc.instantiate(this.textPre);\n            this.node.addChild(text_2);\n            text_2.getChildByName(\"text\").getComponent(cc.Label).string = data.content.toString();\n            text_2.getChildByName(\"text\").width = data.content.length * 26;\n            text_2.width =  data.content.length * 26 + 26;\n            text_2.setPosition(this.leftPos);\n            setTimeout(function () {\n                text_2.active = false;\n                text_2.removeFromParent();\n            }.bind(this),2000);\n        }\n        cc.YL.DDZAudio.playMsgMusic(data.from,parseInt(data.index+1));\n    },\n    showEmoji: function(data){\n        this.selfPos = cc.p(-602,-202);\n        this.rightPos = cc.p(588, 149);\n        this.leftPos = cc.p(-588, 149);\n        if (this.selfID == data.from) {\n            var emoji = cc.instantiate(this.emojiPre);\n            this.node.addChild(emoji);\n            var anim = emoji.getComponent(sp.Skeleton);\n            anim.animation = data.content;\n            emoji.setPosition(this.selfPos);\n            emoji.setScale(1.3);\n            setTimeout(function () {\n                emoji.active = false;\n                emoji.removeFromParent();\n            }.bind(this),2000);\n        }\n        if (data.from == cc.YL.DDZrightPlayerInfo.userId) {\n            var emoji_2 = cc.instantiate(this.emojiPre);\n            this.node.addChild(emoji_2);\n            var anim = emoji_2.getComponent(sp.Skeleton);\n            anim.animation = data.content;\n            emoji_2.setPosition(this.rightPos);\n            emoji_2.setScale(1.3);\n            setTimeout(function () {\n                emoji_2.active = false;\n                emoji_2.removeFromParent();\n            }.bind(this),2000);\n        }\n        if (data.from == cc.YL.DDZleftPlayerInfo.userId) {\n            var emoji_3 = cc.instantiate(this.emojiPre);\n            this.node.addChild(emoji_3);\n            var anim = emoji_3.getComponent(sp.Skeleton);\n            anim.animation = data.content;\n            emoji_3.setPosition(this.leftPos);\n            emoji_3.setScale(1.3);\n            setTimeout(function () {\n                emoji_3.active = false;\n                emoji_3.removeFromParent();\n            }.bind(this),2000);\n        }\n    },\n    showTools: function(data){\n        this.selfPos = cc.p(-597,-229);\n        this.rightPos = cc.p(593, 137);\n        this.leftPos = cc.p(-592, 132);\n        var startPos = cc.p(0,0);\n        var endPos = cc.p(0,0);\n        if (this.selfID == data.from) {\n            startPos = this.selfPos;\n        }\n        if (data.from == cc.YL.DDZrightPlayerInfo.userId) {\n            startPos = this.rightPos;\n        }\n        if (data.from == cc.YL.DDZleftPlayerInfo.userId) {\n            startPos = this.leftPos;\n        }\n        if (this.selfID == data.to) {\n            endPos = this.selfPos;\n        }\n        if (data.to == cc.YL.DDZrightPlayerInfo.userId) {\n            endPos = this.rightPos;\n        }\n        if (data.to == cc.YL.DDZleftPlayerInfo.userId) {\n            endPos = this.leftPos;\n        }\n        var toolsNode = cc.instantiate(this.toolsPre);\n        this.node.addChild(toolsNode);\n        toolsNode.getComponent('interact').show(data, startPos, endPos,true);\n    },\n\n});\n"]}