{"version":3,"sources":["../../../../../../../assets/poker/DDZ/Script/Gameover/assets/poker/DDZ/Script/Gameover/DDZ_AllGameOver.js"],"names":["cc","Class","extends","Component","properties","item","Prefab","start","initAllGameOverNode","data","node","getChildByName","removeAllChildren","i","usersLotteryInfo","length","itemNode","instantiate","addChild","getComponent","initItemNode","Label","string","YL","DDZ_Osdate","LocalTimeString","toString","round","password","DDZAllGameOverData","onShareClick","require","WxShareFriendScreen","onClickExitClick","event","DDZAudio","playBtnClick","director","loadScene","fun","db","setData","GameType","target","active"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,cAAML,GAAGM;;AADD,KAHP;;AAST;AACA;AACA;AACA;AACA;AACA;AACA;;AAEIC,SAjBK,mBAiBI,CAER,CAnBI;;AAoBLC,yBAAqB,6BAAUC,IAAV,EAAgB;AACjC,aAAKC,IAAL,CAAUC,cAAV,CAAyB,IAAzB,EAA+BA,cAA/B,CAA8C,KAA9C,EAAqDC,iBAArD;AACA,aAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIJ,KAAKK,gBAAL,CAAsBC,MAA1C,EAAkDF,GAAlD,EAAuD;AACnD,gBAAIG,WAAWhB,GAAGiB,WAAH,CAAe,KAAKZ,IAApB,CAAf;AACA,iBAAKK,IAAL,CAAUC,cAAV,CAAyB,IAAzB,EAA+BA,cAA/B,CAA8C,KAA9C,EAAqDO,QAArD,CAA8DF,QAA9D;AACAA,qBAASG,YAAT,CAAsB,qBAAtB,EAA6CC,YAA7C,CAA0DX,KAAKK,gBAAL,CAAsBD,CAAtB,CAA1D;AACH;AACD,aAAKH,IAAL,CAAUC,cAAV,CAAyB,IAAzB,EAA+BA,cAA/B,CAA8C,KAA9C,EAAqDA,cAArD,CAAoE,QAApE,EAA8EA,cAA9E,CAA6F,MAA7F,EAAqGQ,YAArG,CAAkHnB,GAAGqB,KAArH,EAA4HC,MAA5H,GACMtB,GAAGuB,EAAH,CAAMC,UAAN,CAAiBC,eAAjB,GAAmCC,QAAnC,EADN;AAEA,aAAKhB,IAAL,CAAUC,cAAV,CAAyB,IAAzB,EAA+BA,cAA/B,CAA8C,QAA9C,EAAwDA,cAAxD,CAAuE,UAAvE,EAAmFA,cAAnF,CAAkG,KAAlG,EAAyGQ,YAAzG,CAAsHnB,GAAGqB,KAAzH,EAAgIC,MAAhI,GACM,MAAMb,KAAKkB,KAAX,GAAmB,GADzB;AAEA,aAAKjB,IAAL,CAAUC,cAAV,CAAyB,IAAzB,EAA+BA,cAA/B,CAA8C,QAA9C,EAAwDA,cAAxD,CAAuE,UAAvE,EAAmFA,cAAnF,CAAkG,UAAlG,EAA8GQ,YAA9G,CAA2HnB,GAAGqB,KAA9H,EAAqIC,MAArI,GACMb,KAAKmB,QADX;AAEA5B,WAAGuB,EAAH,CAAMM,kBAAN,GAA2B,IAA3B;AACH,KAlCI;AAmCLC,kBAAc,wBAAU;AACpBC,gBAAQ,eAAR,EAAyBC,mBAAzB;AACH,KArCI;AAsCLC,sBAAkB,0BAASC,KAAT,EAAe;AAC7BlC,WAAGuB,EAAH,CAAMY,QAAN,CAAeC,YAAf;AACApC,WAAGqC,QAAH,CAAYC,SAAZ,CAAsB,MAAtB;AACAC,YAAIC,EAAJ,CAAOC,OAAP,CAAe,UAAf,EAA2B;AACvBC,sBAAU;AADa,SAA3B;AAGAR,cAAMS,MAAN,CAAaC,MAAb,GAAsB,KAAtB;AACH;AA7CI,CAAT;AA+CA","file":"DDZ_AllGameOver.js","sourceRoot":"../../../../../../../assets/poker/DDZ/Script/Gameover","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/class/index.html\n// Learn Attribute:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/reference/attributes/index.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/life-cycle-callbacks/index.html\n/*******\n *  游戏全部解散的prefab挂载脚本\n *  所有处理都在这里\n *  包含数据清空，初始化等\n *  ******/\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        item: cc.Prefab,\n\n    },\n\n\n// //全局结算\n// message ddz_play_lottery {\n//     optional Header retMsg = 1;\n//     repeated ddz_play_userLotteryInfo usersLotteryInfo = 2; //所有玩家的结算信息\n//     optional int32 round = 3; //当前第几局ai\n//     optional uint32 password = 4; //房间号\n// }\n\n    start () {\n\n    },\n    initAllGameOverNode: function (data) {\n        this.node.getChildByName(\"BG\").getChildByName(\"Mid\").removeAllChildren();\n        for (var i = 0; i < data.usersLotteryInfo.length; i++) {\n            var itemNode = cc.instantiate(this.item);\n            this.node.getChildByName(\"BG\").getChildByName(\"Mid\").addChild(itemNode);\n            itemNode.getComponent(\"DDZ_AllGameOverItem\").initItemNode(data.usersLotteryInfo[i]);\n        }\n        this.node.getChildByName(\"BG\").getChildByName(\"Top\").getChildByName(\"TimeBG\").getChildByName(\"time\").getComponent(cc.Label).string\n            = cc.YL.DDZ_Osdate.LocalTimeString().toString();\n        this.node.getChildByName(\"BG\").getChildByName(\"Buttom\").getChildByName(\"RoomInfo\").getChildByName(\"lun\").getComponent(cc.Label).string\n            = \"第\" + data.round + \"局\";\n        this.node.getChildByName(\"BG\").getChildByName(\"Buttom\").getChildByName(\"RoomInfo\").getChildByName(\"PassWord\").getComponent(cc.Label).string\n            = data.password;\n        cc.YL.DDZAllGameOverData = null;\n    },\n    onShareClick: function(){\n        require(\"JSPhoneWeChat\").WxShareFriendScreen();\n    },\n    onClickExitClick: function(event){\n        cc.YL.DDZAudio.playBtnClick();\n        cc.director.loadScene(\"hall\");\n        fun.db.setData('RoomInfo', {\n            GameType: 0,\n        });\n        event.target.active = false;\n    },\n});\n// RoomInfo\n"]}